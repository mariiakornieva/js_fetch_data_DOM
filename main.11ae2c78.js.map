{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","request","url","Promise","resolve","reject","setTimeout","Error","fetch","then","response","ok","json","data","getPhones","getPhonesDetails","ids","all","map","id","showPhoneNames","phones","document","body","insertAdjacentHTML","phone","name","join","catch","error","alert"],"mappings":";AAAA,aAEA,IAAMA,EAAW,4DAEXC,EAAU,SAACC,GACR,OAAA,IAAIC,QAAQ,SAACC,EAASC,GAC3BC,WAAW,WACFD,OAAAA,EAAO,IAAIE,MAAM,mBACvB,KAEHC,MAASR,GAAAA,OAAAA,GAAWE,OAAAA,IACjBO,KAAK,SAAAC,GAKGA,OAJFA,EAASC,IACZN,EAAO,IAAIE,MAAM,sBAGZG,EAASE,SAEjBH,KAAK,SAAAI,GAAQT,OAAAA,EAAQS,QAItBC,EAAY,WACTb,OAAAA,EAAQ,iBAGXc,EAAmB,SAACC,GACjBb,OAAAA,QAAQc,IACbD,EAAIE,IAAI,SAAAC,GAAMlB,OAAAA,EAAmBkB,WAAAA,OAAAA,EAAvB,cASd,SAASC,EAAeC,GACtBC,SAASC,KAAKC,mBAAmB,YAE3BH,qBAAAA,OAAAA,EAAOH,IAAI,SAAAO,GAAgBA,MAAAA,OAAAA,OAAAA,EAAMC,KAAjB,WAA8BC,KAAK,IAFzD,oBANFb,IACGL,KAAK,SAAAY,GAAUN,OAAAA,EAAiBM,EAAOH,IAAI,SAAAO,GAASA,OAAAA,EAAMN,QAC1DV,KAAKW,GACLQ,MAAM,SAAAC,GAASC,OAAAA,MAAgBD,UAAAA,OAAAA","file":"main.11ae2c78.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst BASE_URL = 'https://mate-academy.github.io/phone-catalogue-static/api';\n\nconst request = (url) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      return reject(new Error('Timeout error'));\n    }, 5000);\n\n    fetch(`${BASE_URL}${url}`)\n      .then(response => {\n        if (!response.ok) {\n          reject(new Error(\"Response isn't OK\"));\n        }\n\n        return response.json();\n      })\n      .then(data => resolve(data));\n  });\n};\n\nconst getPhones = () => {\n  return request('/phones.json');\n};\n\nconst getPhonesDetails = (ids) => {\n  return Promise.all(\n    ids.map(id => request(`/phones/${id}.json`))\n  );\n};\n\ngetPhones()\n  .then(phones => getPhonesDetails(phones.map(phone => phone.id)))\n  .then(showPhoneNames)\n  .catch(error => alert(`Error: ${error}`));\n\nfunction showPhoneNames(phones) {\n  document.body.insertAdjacentHTML('beforeend', `\n    <ul>\n      ${phones.map(phone => `<li>${phone.name}</li>`).join('')}\n    </ul>\n  `);\n}\n"]}